<!-- import-recalls.html -->
<!-- 
  A simple form to manually insert a new recall into the DB. 
  Real usage requires /api/import route on the server side.
-->
<!DOCTYPE html>
<html data-bs-theme="light" lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
  <title>Import Recalls - CPSC</title>
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
</head>
<body>

<nav class="navbar navbar-expand-md navbar-light bg-light">
  <div class="container">
    <a class="navbar-brand" href="index.html">CPSC Recall Management</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
            aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="recalls.html">Recalls</a></li>
        <li class="nav-item"><a class="nav-link active" href="import-recalls.html">Import Recalls</a></li>
        <li class="nav-item"><a class="nav-link" href="shortlist.html">Shortlist</a></li>
      </ul>
    </div>
  </div>
</nav>

<div class="container mt-5">
  <h2 class="text-center mb-4">Import Recalls (Manual Entry)</h2>
  <div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
      <form action="/api/import" method="post" id="importForm">
        <div class="mb-3">
          <label for="RecallID" class="form-label">Recall ID (required)</label>
          <input type="text" class="form-control" id="RecallID" name="RecallID" required>
        </div>
        <div class="mb-3">
          <label for="RecallNumber" class="form-label">Recall Number</label>
          <input type="text" class="form-control" id="RecallNumber" name="RecallNumber">
        </div>
        <div class="mb-3">
          <label for="RecallDate" class="form-label">Recall Date</label>
          <input type="date" class="form-control" id="RecallDate" name="RecallDate" required>
        </div>
        <div class="mb-3">
          <label for="Description" class="form-label">Description</label>
          <textarea class="form-control" id="Description" name="Description" rows="3"></textarea>
        </div>
        <div class="mb-3">
          <label for="URL" class="form-label">URL</label>
          <input type="text" class="form-control" id="URL" name="URL">
        </div>
        <div class="mb-3">
          <label for="Title" class="form-label">Title</label>
          <input type="text" class="form-control" id="Title" name="Title">
        </div>
        <div class="mb-3">
          <label for="ConsumerContact" class="form-label">Consumer Contact</label>
          <input type="text" class="form-control" id="ConsumerContact" name="ConsumerContact">
        </div>
        <div class="mb-3">
          <label for="LastPublishDate" class="form-label">Last Publish Date</label>
          <input type="date" class="form-control" id="LastPublishDate" name="LastPublishDate">
        </div>
        <div class="mb-3">
          <label for="Name" class="form-label">Product Name</label>
          <input type="text" class="form-control" id="Name" name="Name">
        </div>
        <div class="mb-3">
          <label for="Model" class="form-label">Model</label>
          <input type="text" class="form-control" id="Model" name="Model">
        </div>
        <div class="mb-3">
          <label for="Type" class="form-label">Type</label>
          <input type="text" class="form-control" id="Type" name="Type">
        </div>
        <div class="mb-3">
          <label for="CategoryID" class="form-label">Category ID</label>
          <input type="text" class="form-control" id="CategoryID" name="CategoryID">
        </div>
        <div class="mb-3">
          <label for="NumberOfUnits" class="form-label">Number Of Units</label>
          <input type="number" min="1" class="form-control" id="NumberOfUnits" name="NumberOfUnits">
        </div>
        <button type="submit" class="btn btn-primary w-100">Submit Recall</button>
      </form>
    </div>
  </div>
</div>

<script src="assets/bootstrap/js/bootstrap.min.js"></script>
<script>
document.getElementById('importForm').addEventListener('submit', (e)=>{
  const dateVal = document.getElementById('RecallDate').value;
  if(dateVal){
    const chosenDate = new Date(dateVal);
    const now = new Date();
    if(chosenDate > now){
      e.preventDefault();
      alert("Recall date cannot be in the future!");
    }
  }
});
</script>
</body>
</html>
