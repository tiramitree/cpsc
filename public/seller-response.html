<!-- seller-response.html  —  minimal attributes only -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>Seller Responds to Violation</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-5">

  <h2 class="mb-4">Seller Response</h2>

  <!-- ‼️ Only Violation_ID & Seller_ID are required by the schema -->
  <form id="responseForm">
    <input type="hidden" id="Violation_ID">

    <div class="mb-3">
      <label class="form-label" for="Seller_ID">Seller ID</label>
      <input class="form-control" id="Seller_ID" required>
    </div>

    <button class="btn btn-primary" type="submit">Submit Response</button>
  </form>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded',()=>{
  const qs = new URLSearchParams(location.search);
  document.getElementById('Violation_ID').value = qs.get('Violation_ID') || '';
  document.getElementById('Seller_ID'   ).value = qs.get('Seller_ID')    || '';
});

document.getElementById('responseForm').addEventListener('submit',async e=>{
  e.preventDefault();
  const body = {
    Violation_ID : document.getElementById('Violation_ID').value.trim(),
    Seller_ID    : document.getElementById('Seller_ID').value.trim()
  };
  const res = await fetch('/api/Responses',{
    method : 'POST',
    headers: {'Content-Type':'application/json'},
    body   : JSON.stringify(body)
  });
  const j = await res.json();
  alert(j.message||j.error);
});
</script>
</body>
</html>
